<section class="container px-4 mx-auto">
  <div class="sm:flex sm:items-center sm:justify-between">
    <div>
      <div class="flex items-center gap-x-3">
        <h2 class="text-4xl font-medium text-white">Pending Approvals</h2>
      </div>
    </div>
  </div>

  <div class="mt-8 md:flex md:items-center md:justify-end">
    <div class="relative flex items-center mt-4 md:mt-0">
      <span class="absolute">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 mx-3 text-gray-600"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
          />
        </svg>
      </span>

      <input
        name="searchField"
        #searchFieldInput
        (input)="onSearch($event)"
        type="text"
        placeholder="Search"
        class="block w-full py-1.5 pr-8 border rounded-lg md:w-80 placeholder-gray-400/70 pl-11 rtl:pr-11 rtl:pl-5 bg-gray-900 text-gray-300 border-gray-600 focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"
      />
      <span
        *ngIf="searchFieldInput.value !== ''"
        class="text-gray-500 absolute right-2 top-2 cursor-pointer"
        (click)="clearSearch()"
      >
        <i class="material-icons">clear</i>
      </span>
    </div>
  </div>

  <div class="flex flex-col mt-10">
    <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8">
        <div class="overflow-hidden border border-gray-700 md:rounded-lg">
          <table class="min-w-full divide-y divide-gray-700">
            <thead class="bg-gray-800">
              <tr>
                <th
                  scope="col"
                  class="py-3.5 px-4 text-sm font-normal text-left rtl:text-right text-gray-400"
                >
                  <div class="flex items-center gap-x-3">
                    <button
                      (click)="Sort('id')"
                      class="flex items-center gap-x-2"
                    >
                      <span>No.</span>
                    </button>
                  </div>
                </th>

                <th
                  scope="col"
                  class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-400"
                >
                  <button
                    (click)="Sort('username')"
                    class="flex items-center gap-x-2"
                  >
                    <span>Name</span
                    ><svg
                      class="h-3"
                      viewBox="0 0 10 11"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z"
                        fill="currentColor"
                        stroke="currentColor"
                        stroke-width="0.1"
                      />
                      <path
                        d="M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z"
                        fill="currentColor"
                        stroke="currentColor"
                        stroke-width="0.1"
                      />
                      <path
                        d="M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z"
                        fill="currentColor"
                        stroke="currentColor"
                        stroke-width="0.3"
                      />
                    </svg>
                  </button>
                </th>
                <th
                  scope="col"
                  class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-400"
                >
                  <button class="flex items-center gap-x-2">
                    <span>Email</span>
                  </button>
                </th>
                <th
                  scope="col"
                  class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-400"
                >
                  Status
                </th>

                <th
                  scope="col"
                  class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-400"
                >
                  Action
                </th>
              </tr>
            </thead>

            <tbody
              *ngFor="let pendingVendor of Responsedata; let i = index"
              class="divide-y divide-gray-700 bg-gray-900"
            >
              <tr>
                <td
                  class="px-4 py-4 text-sm font-medium text-gray-200 whitespace-pre"
                >
                  <div class="inline-flex items-center gap-x-3">
                    <span
                      *ngIf="7 * (currentPage - 1) + i + 1 <= responseLength"
                      >{{ 7 * (currentPage - 1) + i + 1 }}</span
                    >
                  </div>
                </td>
                <td class="px-4 py-4 text-sm text-gray-300 whitespace-pre">
                  {{ pendingVendor.username }}
                </td>
                <td class="px-4 py-4 text-sm text-gray-300 whitespace-pre">
                  {{ pendingVendor.email }}
                </td>
                <td
                  class="px-4 py-4 text-sm font-medium text-gray-700 whitespace-pre"
                >
                  <div
                    class="inline-flex items-center px-3 py-1 text-yellow-600 rounded-full gap-x-2 bg-gray-800"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="feather feather-clock"
                    >
                      <circle cx="12" cy="12" r="10"></circle>
                      <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>

                    <h2 class="text-sm font-normal">Pending</h2>
                  </div>
                </td>

                <td class="px-4 py-4 text-sm whitespace-nowrap">
                  <div class="flex items-center gap-x-6">
                    <button
                      (click)="requestHandle(0, pendingVendor)"
                      [matTooltip]="'Approve Request'"
                      class="transition-colors duration-200 text-gray-300 hover:text-green-500 focus:outline-none"
                      [disabled]="isConfirm"
                    >
                      <div id="accepted" *ngIf="!isConfirm">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="18"
                          height="18"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          class="feather feather-check-square"
                        >
                          <polyline points="9 11 12 14 22 4"></polyline>
                          <path
                            d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"
                          ></path>
                        </svg>
                      </div>
                      <div class="loading" *ngIf="isConfirm">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="18"
                          height="18"
                          viewBox="0 0 40 40"
                        >
                          <circle
                            cx="20"
                            cy="20"
                            r="15"
                            fill="none"
                            stroke="#fff"
                            stroke-width="3"
                          >
                            <animate
                              attributeName="r"
                              from="15"
                              to="20"
                              begin="0s"
                              dur="0.8s"
                              repeatCount="indefinite"
                            />
                            <animate
                              attributeName="stroke-opacity"
                              from="1"
                              to="0"
                              begin="0s"
                              dur="0.8s"
                              repeatCount="indefinite"
                            />
                          </circle>
                        </svg>
                      </div>
                    </button>

                    <button
                      (click)="requestHandle(1, pendingVendor)"
                      [matTooltip]="'Reject Request'"
                      [disabled]="isConfirm"
                      class="transition-colors duration-200 text-gray-300 hover:text-red-500 focus:outline-none"
                    >
                      <div id="delete" *ngIf="!isConfirm">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="18"
                          height="18"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          class="feather feather-x"
                        >
                          <line x1="18" y1="6" x2="6" y2="18"></line>
                          <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                      </div>
                      <div class="loading" *ngIf="isConfirm">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="18"
                          height="18"
                          viewBox="0 0 40 40"
                        >
                          <circle
                            cx="20"
                            cy="20"
                            r="15"
                            fill="none"
                            stroke="#fff"
                            stroke-width="3"
                          >
                            <animate
                              attributeName="r"
                              from="15"
                              to="20"
                              begin="0s"
                              dur="0.8s"
                              repeatCount="indefinite"
                            />
                            <animate
                              attributeName="stroke-opacity"
                              from="1"
                              to="0"
                              begin="0s"
                              dur="0.8s"
                              repeatCount="indefinite"
                            />
                          </circle>
                        </svg>
                      </div>
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="flex justify-center" *ngIf="responseLength === 0">
            <span
              class="px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-400"
              >No Data Available</span
            >
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Pagination. -->
  <div class="mt-6 sm:flex sm:items-center sm:justify-between">
    <div class="text-sm text-gray-400">
      Page
      <span class="font-medium text-gray-100"
        >{{ currentPage }} of {{ Data.lastPage }}</span
      >
    </div>

    <div class="flex items-center mt-4 gap-x-4 sm:mt-0">
      <button
        [disabled]="currentPage <= 1"
        (click)="Pagenate(currentPage - 1)"
        class="disabled:text-gray-600 flex items-center justify-center w-1/2 px-5 py-2 text-sm capitalize transition-colors duration-200 border rounded-md sm:w-auto gap-x-2 bg-gray-900 text-gray-200 border-gray-700 hover:cursor-pointer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 rtl:-scale-x-100"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"
          />
        </svg>

        <span> Previous </span>
      </button>

      <button
        [disabled]="currentPage == Data.lastPage"
        (click)="Pagenate(currentPage + 1)"
        class="disabled:text-gray-600 flex items-center justify-center w-1/2 px-5 py-2 text-sm capitalize transition-colors duration-200 border rounded-md sm:w-auto gap-x-2 bg-gray-900 text-gray-200 border-gray-700 hover:cursor-pointer"
      >
        <span> Next </span>

        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-5 h-5 rtl:-scale-x-100"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"
          />
        </svg>
      </button>
    </div>
  </div>
</section>
